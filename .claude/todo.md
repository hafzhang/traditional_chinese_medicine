# MVP 开发任务队列

**项目**: 中医体质识别 MVP
**开始日期**: 2025-01-13
**目标天数**: 21 天（3 周）

---

## 今日目标 (2025-01-13)

### Week 0: 准备阶段

- [x] 确认 30 题问卷最终版本与题目映射
- [x] 确认首发平台（抖音小程序 / H5）
- [ ] 接口规范评审与确认
- [ ] 食物库样例数据准备（每体质至少 10 条食物数据）
- [ ] 设计稿评审（问卷页、报告页、分享卡片）

### Week 1: 核心功能开发

#### 后端任务
- [ ] 搭建 FastAPI 项目脚手架
  - [ ] 初始化项目结构
  - [ ] 配置 SQLAlchemy + Pydantic
  - [ ] 配置数据库连接
- [ ] 数据库表设计与迁移脚本
  - [ ] users 表
  - [ ] questions 表（30题）
  - [ ] constitution_results 表
  - [ ] foods 表
  - [ ] recipes 表
- [ ] 实现 POST /api/v1/test/submit 接口
  - [ ] 请求数据模型（Pydantic）
  - [ ] 答卷验证逻辑
  - [ ] 答卷存储
- [ ] 实现体质判定算法
  - [ ] 计算各维度分数
  - [ ] 转换为百分制
  - [ ] 判定主要/次要体质
- [ ] 实现 GET /api/v1/result/{result_id} 接口
  - [ ] 结果查询逻辑
  - [ ] 报告生成
- [ ] 单元测试覆盖判定逻辑
  - [ ] 边界测试
  - [ ] 异常测试

#### 前端任务
- [ ] uni-app 项目初始化
  - [ ] 创建项目
  - [ ] 配置抖音小程序平台
  - [ ] 配置 uView UI
- [ ] 问卷页面 UI 实现
  - [ ] 问卷列表页
  - [ ] 答题卡片组件
  - [ ] 进度条组件
- [ ] 答题流程与进度保存
  - [ ] 答题状态管理
  - [ ] 本地缓存
  - [ ] 断点续答
- [ ] API 调用封装
  - [ ] 请求封装
  - [ ] 错误处理
  - [ ] Token 管理
- [ ] 提交答卷功能
  - [ ] 数据收集
  - [ ] 提交验证
  - [ ] 结果展示

#### 设计任务
- [ ] 问卷页面设计稿
  - [ ] 欢迎页
  - [ ] 题目卡片
  - [ ] 进度指示
- [ ] 报告页面设计稿
  - [ ] 体质标签展示
  - [ ] 特征列表
  - [ ] 雷达图样式
- [ ] 体质雷达图视觉设计
  - [ ] 九维度布局
  - [ ] 颜色方案
  - [ ] 动画效果
- [ ] 分享卡片设计稿
  - [ ] 卡片布局
  - [ ] 小程序码位置
  - [ ] 文案设计

### Week 2: 功能完善

#### 后端任务
- [ ] 实现 GET /api/v1/recommend/food 接口
  - [ ] 食物推荐算法
  - [ ] 结果排序
- [ ] 食物库数据导入脚本
  - [ ] 食物数据清洗
  - [ ] 批量导入
- [ ] 分享卡片生成接口
  - [ ] 图片生成
  - [ ] 小程序码生成
- [ ] 用户记录与历史查询接口
  - [ ] 用户关联
  - [ ] 历史记录
  - [ ] 对比分析
- [ ] 接口性能优化
  - [ ] 数据库索引优化
  - [ ] 缓存策略
  - [ ] 查询优化

#### 前端任务
- [ ] 报告详情页实现
  - [ ] 体质标签展示
  - [ ] 特征描述
  - [ ] 调理建议
- [ ] 体质雷达图可视化
  - [ ] ECharts 集成
  - [ ] 数据映射
  - [ ] 交互优化
- [ ] 饮食推荐页面
  - [ ] 宜吃食物列表
  - [ ] 忌吃食物列表
  - [ ] 推荐菜谱
- [ ] 分享卡片生成与导出
  - [ ] Canvas 绘制
  - [ ] 图片保存
  - [ ] 分享功能
- [ ] 历史记录页面
  - [ ] 记录列表
  - [ ] 对比视图
  - [ ] 趋势图表

#### 测试任务
- [ ] 接口测试
  - [ ] 功能测试
  - [ ] 压力测试
  - [ ] 安全测试
- [ ] 端到端流程测试
  - [ ] 完整答题流程
  - [ ] 报告查看
  - [ ] 推荐功能
- [ ] 兼容性测试
  - [ ] 抖音小程序
  - [ ] 微信小程序
  - [ ] H5 页面
- [ ] Bug 修复

### Week 3: 上线准备

#### 全部任务
- [ ] Bug 修复与回归测试
- [ ] 性能优化
  - [ ] 首屏加载优化
  - [ ] 接口响应优化
  - [ ] 图片懒加载
- [ ] 小程序打包与提审准备
  - [ ] 版本打包
  - [ ] 资料准备
  - [ ] 审核提交
- [ ] 埋点与基础监控接入
  - [ ] 统计埋点
  - [ ] 错误监控
  - [ ] 性能监控
- [ ] 免责声明与隐私政策
  - [ ] 文案撰写
  - [ ] 法律审核
  - [ ] 页面添加
- [ ] 上线部署
  - [ ] 服务器配置
  - [ ] 域名配置
  - [ ] SSL 证书
- [ ] 线上冒烟测试
- [ ] 首批数据监测

---

## 当前进度

**当前阶段**: Week 0 - 准备阶段
**完成任务**: 2/5 (40%)
**下一个任务**: 接口规范评审与确认

**今日状态**: 🟡 进行中

---

## 备注

- 每完成一个任务，将 `- [ ]` 改为 `- [x]`
- 遇到阻塞任务时，标记为 `- [!]` 需要人工介入
- 可跳过非关键任务，标记为 `- [-]` 跳过
